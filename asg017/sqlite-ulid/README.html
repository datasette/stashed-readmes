<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">sqlite-ulid</h1><a id="user-content-sqlite-ulid" class="anchor" aria-label="Permalink: sqlite-ulid" href="#sqlite-ulid"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">A SQLite extension for generating and working with <a href="https://github.com/ulid/spec">ULIDs</a>. Built on top of <a href="https://github.com/asg017/sqlite-loadable-rs">sqlite-loadable-rs</a> and <a href="https://github.com/dylanhart/ulid-rs">ulid-rs</a>.</p>
<p dir="auto">If your company or organization finds this library useful, consider <a href="#supporting">supporting my work</a>!</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-sql notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content=".load ./ulid0

select ulid(); -- '01gqr4j69cc7w1xdbarkcbpq17'
select ulid_bytes(); -- X'0185310899dd7662b8f1e5adf9a5e7c0'
select ulid_with_prefix('invoice'); -- 'invoice_01gqr4jmhxhc92x1kqkpxb8j16'
select ulid_with_datetime('2023-01-26 22:53:20.556); -- '01gqr4j69cc7w1xdbarkcbpq17'
select ulid_datetime('01gqr4j69cc7w1xdbarkcbpq17') -- '2023-01-26 22:53:20.556'"><pre>.load .<span class="pl-k">/</span>ulid0

<span class="pl-k">select</span> ulid(); <span class="pl-c"><span class="pl-c">--</span> '01gqr4j69cc7w1xdbarkcbpq17'</span>
<span class="pl-k">select</span> ulid_bytes(); <span class="pl-c"><span class="pl-c">--</span> X'0185310899dd7662b8f1e5adf9a5e7c0'</span>
<span class="pl-k">select</span> ulid_with_prefix(<span class="pl-s"><span class="pl-pds">'</span>invoice<span class="pl-pds">'</span></span>); <span class="pl-c"><span class="pl-c">--</span> 'invoice_01gqr4jmhxhc92x1kqkpxb8j16'</span>
<span class="pl-k">select</span> ulid_with_datetime(<span class="pl-s"><span class="pl-pds">'</span>2023-01-26 22:53:20.556); -- <span class="pl-pds">'</span></span>01gqr4j69cc7w1xdbarkcbpq17<span class="pl-s"><span class="pl-pds">'</span></span>
<span class="pl-s">select ulid_datetime(<span class="pl-pds">'</span></span>01gqr4j69cc7w1xdbarkcbpq17<span class="pl-s"><span class="pl-pds">'</span>) -- <span class="pl-pds">'</span></span><span class="pl-c1">2023</span><span class="pl-k">-</span><span class="pl-c1">01</span><span class="pl-k">-</span><span class="pl-c1">26</span> <span class="pl-c1">22</span>:<span class="pl-c1">53</span>:<span class="pl-c1">20</span>.<span class="pl-c1">556</span><span class="pl-s"><span class="pl-pds">'</span></span></pre></div>
<p dir="auto">Use as a <code>PRIMARY KEY</code> for a table.</p>
<div class="highlight highlight-source-sql notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="create table log_events(
  id ulid primary key,
  data any
);


insert into log_events(id, data) values (ulid(), 1);
insert into log_events(id, data) values (ulid(), 2);
insert into log_events(id, data) values (ulid(), 3);

select * from log_events;
/*
┌────────────────────────────┬──────┐
│             id             │ data │
├────────────────────────────┼──────┤
│ 01gqr4vr487bytsf10ktfmheg4 │ 1    │
│ 01gqr4vr4dfcfk80m2yp6j866z │ 2    │
│ 01gqr4vrjxg0yex9jr0f100v1c │ 3    │
└────────────────────────────┴──────┘
*/"><pre><span class="pl-k">create</span> <span class="pl-k">table</span> <span class="pl-en">log_events</span>(
  id ulid <span class="pl-k">primary key</span>,
  data any
);


<span class="pl-k">insert into</span> log_events(id, data) <span class="pl-k">values</span> (ulid(), <span class="pl-c1">1</span>);
<span class="pl-k">insert into</span> log_events(id, data) <span class="pl-k">values</span> (ulid(), <span class="pl-c1">2</span>);
<span class="pl-k">insert into</span> log_events(id, data) <span class="pl-k">values</span> (ulid(), <span class="pl-c1">3</span>);

<span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> log_events;
<span class="pl-c"><span class="pl-c">/*</span></span>
<span class="pl-c">┌────────────────────────────┬──────┐</span>
<span class="pl-c">│             id             │ data │</span>
<span class="pl-c">├────────────────────────────┼──────┤</span>
<span class="pl-c">│ 01gqr4vr487bytsf10ktfmheg4 │ 1    │</span>
<span class="pl-c">│ 01gqr4vr4dfcfk80m2yp6j866z │ 2    │</span>
<span class="pl-c">│ 01gqr4vrjxg0yex9jr0f100v1c │ 3    │</span>
<span class="pl-c">└────────────────────────────┴──────┘</span>
<span class="pl-c"><span class="pl-c">*/</span></span></pre></div>
<p dir="auto">Consider using <a href="./docs.md#ulid_bytes"><code>ulid_bytes()</code></a> for speed and smaller IDs. They generate about 1.6x faster than <code>ulid()</code>, and take up 16 bytes instead of 26 bytes. You can use <code>ulid()</code> to create a text representation of a BLOB ULID.</p>
<div class="highlight highlight-source-sql notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="
create table log_events(
  id ulid primary key,
  data any
);


insert into log_events(id, data) values (ulid_bytes(), 1);
insert into log_events(id, data) values (ulid_bytes(), 2);
insert into log_events(id, data) values (ulid_bytes(), 3);

select hex(id), ulid(id), data from log_events;
/*
┌──────────────────────────────────┬────────────────────────────┬──────┐
│             hex(id)              │          ulid(id)          │ data │
├──────────────────────────────────┼────────────────────────────┼──────┤
│ 0185F0539EBF286DA9F56BA4D9981783 │ 01gqr577nz51ptkxbbmkcsg5w3 │ 1    │
│ 0185F0539EC54F85745C1ECB64DF3A97 │ 01gqr577p59y2q8q0ysdjdyemq │ 2    │
│ 0185F0539ED48113F6F67BF3F6A4BFF7 │ 01gqr577pmg49zdxkvyfva9fzq │ 3    │
└──────────────────────────────────┴────────────────────────────┴──────┘
*/"><pre><span class="pl-k">create</span> <span class="pl-k">table</span> <span class="pl-en">log_events</span>(
  id ulid <span class="pl-k">primary key</span>,
  data any
);


<span class="pl-k">insert into</span> log_events(id, data) <span class="pl-k">values</span> (ulid_bytes(), <span class="pl-c1">1</span>);
<span class="pl-k">insert into</span> log_events(id, data) <span class="pl-k">values</span> (ulid_bytes(), <span class="pl-c1">2</span>);
<span class="pl-k">insert into</span> log_events(id, data) <span class="pl-k">values</span> (ulid_bytes(), <span class="pl-c1">3</span>);

<span class="pl-k">select</span> hex(id), ulid(id), data <span class="pl-k">from</span> log_events;
<span class="pl-c"><span class="pl-c">/*</span></span>
<span class="pl-c">┌──────────────────────────────────┬────────────────────────────┬──────┐</span>
<span class="pl-c">│             hex(id)              │          ulid(id)          │ data │</span>
<span class="pl-c">├──────────────────────────────────┼────────────────────────────┼──────┤</span>
<span class="pl-c">│ 0185F0539EBF286DA9F56BA4D9981783 │ 01gqr577nz51ptkxbbmkcsg5w3 │ 1    │</span>
<span class="pl-c">│ 0185F0539EC54F85745C1ECB64DF3A97 │ 01gqr577p59y2q8q0ysdjdyemq │ 2    │</span>
<span class="pl-c">│ 0185F0539ED48113F6F67BF3F6A4BFF7 │ 01gqr577pmg49zdxkvyfva9fzq │ 3    │</span>
<span class="pl-c">└──────────────────────────────────┴────────────────────────────┴──────┘</span>
<span class="pl-c"><span class="pl-c">*/</span></span></pre></div>
<p dir="auto">Extract the timestamp component of a ULID with <a href="./docs.md#ulid_datetime"><code>ulid_datetime()</code></a>.</p>
<div class="highlight highlight-source-sql notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="select ulid_datetime(ulid()); -- '2023-01-26 23:07:36.508'
select unixepoch(ulid_datetime(ulid())); -- 1674774499
select strftime('%Y-%m-%d', ulid_datetime(ulid())); -- '2023-01-26''"><pre><span class="pl-k">select</span> ulid_datetime(ulid()); <span class="pl-c"><span class="pl-c">--</span> '2023-01-26 23:07:36.508'</span>
<span class="pl-k">select</span> unixepoch(ulid_datetime(ulid())); <span class="pl-c"><span class="pl-c">--</span> 1674774499</span>
<span class="pl-k">select</span> strftime(<span class="pl-s"><span class="pl-pds">'</span>%Y-%m-%d<span class="pl-pds">'</span></span>, ulid_datetime(ulid())); <span class="pl-c"><span class="pl-c">--</span> '2023-01-26''</span></pre></div>
<p dir="auto">Consider using <a href="./docs.md#ulid_with_prefix"><code>ulid_with_prefix()</code></a> to generate a text ULID with a given prefix, to differentiate between different ID types.</p>
<div class="highlight highlight-source-sql notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="select ulid_with_prefix('customer'); -- 'customer_01gqr5j1ebk31wv30wgp8ebehj'
select ulid_with_prefix('product'); -- 'product_01gqr5prjgsa77dhrxf2dt1dgv'
select ulid_with_prefix('order'); -- 'order_01gqr5q35n68jk0sycy1ntr083'

"><pre><span class="pl-k">select</span> ulid_with_prefix(<span class="pl-s"><span class="pl-pds">'</span>customer<span class="pl-pds">'</span></span>); <span class="pl-c"><span class="pl-c">--</span> 'customer_01gqr5j1ebk31wv30wgp8ebehj'</span>
<span class="pl-k">select</span> ulid_with_prefix(<span class="pl-s"><span class="pl-pds">'</span>product<span class="pl-pds">'</span></span>); <span class="pl-c"><span class="pl-c">--</span> 'product_01gqr5prjgsa77dhrxf2dt1dgv'</span>
<span class="pl-k">select</span> ulid_with_prefix(<span class="pl-s"><span class="pl-pds">'</span>order<span class="pl-pds">'</span></span>); <span class="pl-c"><span class="pl-c">--</span> 'order_01gqr5q35n68jk0sycy1ntr083'</span>

</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Quick benchmarks</h2><a id="user-content-quick-benchmarks" class="anchor" aria-label="Permalink: Quick benchmarks" href="#quick-benchmarks"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Not definitive, hastily ran on a Macbook, not representative of real-life usecases. The <code>uuid()</code> SQL function comes from the <a href="https://sqlite.org/src/file/ext/misc/uuid.c" rel="nofollow">official <code>uuid.c</code> extension</a>.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Test case</th>
<th>Time</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>generate_series()</code> to generate 1 million rows</td>
<td><code>28.5 ms ±   0.8 ms</code> (<code>1x</code>)</td>
</tr>
<tr>
<td>Calling <code>ulid_bytes()</code> 1 million times</td>
<td><code>88.4 ms ±   2.8 ms</code>,, <code>3.10 ± 0.13</code> slower</td>
</tr>
<tr>
<td>Calling <code>uuid()</code> 1 million times</td>
<td><code>141.6 ms ±   1.5 ms</code>, or <code>4.97 ± 0.15</code> slower</td>
</tr>
<tr>
<td>Calling <code>ulid()</code> 1 million times</td>
<td><code>344.3 ms ±  11.9 ms</code>, or <code>12.07 ± 0.53</code> slower</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">So <code>ulid_bytes()</code> is pretty fast, but returns an unreadable blob instead of a nicely formatted text ID. The <code>ulid()</code> function does that, but is more than twice as slow than <code>uuid()</code>.</p>
<p dir="auto">However, generating 1 million <code>ulid()</code> IDs in ~350ms is most likely "good enough" for most SQLite usecases.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Using with...</h2><a id="user-content-using-with" class="anchor" aria-label="Permalink: Using with..." href="#using-with"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Language</th>
<th>Install</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Python</td>
<td><code>pip install sqlite-ulid</code></td>
<td><a href="https://pypi.org/project/sqlite-ulid/" rel="nofollow"><img src="https://img.shields.io/pypi/v/sqlite-ulid.svg?color=blue&logo=python&logoColor=white" alt="PyPI" style="max-width: 100%;" data-camo-src="https://camo.githubusercontent.com/13ca429cb958e5fdc245b36b8c866224c30f4e80c5c076a6e8c9a7f258bb7775/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f73716c6974652d756c69642e7376673f636f6c6f723d626c7565266c6f676f3d707974686f6e266c6f676f436f6c6f723d7768697465"></a></td>
</tr>
<tr>
<td>Datasette</td>
<td><code>datasette install datasette-sqlite-ulid</code></td>
<td><a href="https://datasette.io/plugins/datasette-sqlite-ulid" rel="nofollow"><img src="https://img.shields.io/pypi/v/datasette-sqlite-ulid.svg?color=B6B6D9&label=Datasette+plugin&logoColor=white&logo=python" alt="Datasette" style="max-width: 100%;" data-camo-src="https://camo.githubusercontent.com/2de9dbc2098b465ee365bb2675a5ea9ca919fd89f64fdec02e68c1bb9021c411/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6461746173657474652d73716c6974652d756c69642e7376673f636f6c6f723d423642364439266c6162656c3d4461746173657474652b706c7567696e266c6f676f436f6c6f723d7768697465266c6f676f3d707974686f6e"></a></td>
</tr>
<tr>
<td>Node.js</td>
<td><code>npm install sqlite-ulid</code></td>
<td><a href="https://www.npmjs.com/package/sqlite-ulid" rel="nofollow"><img src="https://img.shields.io/npm/v/sqlite-ulid.svg?color=green&logo=nodedotjs&logoColor=white" alt="npm" style="max-width: 100%;" data-camo-src="https://camo.githubusercontent.com/8b9a39c95d1883765b135fac562838c0a3ec6282280fb0d283f4ce5209b1cfea/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f73716c6974652d756c69642e7376673f636f6c6f723d677265656e266c6f676f3d6e6f6465646f746a73266c6f676f436f6c6f723d7768697465"></a></td>
</tr>
<tr>
<td>Deno</td>
<td><a href="https://deno.land/x/sqlite_ulid" rel="nofollow"><code>deno.land/x/sqlite_ulid</code></a></td>
<td><a href="https://deno.land/x/sqlite_ulid" rel="nofollow"><img src="https://img.shields.io/github/v/release/asg017/sqlite-ulid?color=fef8d2&include_prereleases&label=deno.land%2Fx&logo=deno" alt="deno.land/x release" style="max-width: 100%;" data-camo-src="https://camo.githubusercontent.com/70a6f09813ea66d6e5c3378faee3ae7b3deb2facd53590f7039fbaba51a57e32/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f72656c656173652f6173673031372f73716c6974652d756c69643f636f6c6f723d66656638643226696e636c7564655f70726572656c6561736573266c6162656c3d64656e6f2e6c616e6425324678266c6f676f3d64656e6f"></a></td>
</tr>
<tr>
<td>Ruby</td>
<td><code>gem install sqlite-ulid</code></td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/f0522ae9adb3ffe09d3f00b079a798e5970b3393e5db3ca0a7e935edb47227e4/68747470733a2f2f696d672e736869656c64732e696f2f67656d2f762f73716c6974652d756c69643f636f6c6f723d726564266c6f676f3d7275627967656d73266c6f676f436f6c6f723d7768697465"><img src="https://img.shields.io/gem/v/sqlite-ulid?color=red&logo=rubygems&logoColor=white" alt="Gem" style="max-width: 100%;" data-camo-src="https://camo.githubusercontent.com/f0522ae9adb3ffe09d3f00b079a798e5970b3393e5db3ca0a7e935edb47227e4/68747470733a2f2f696d672e736869656c64732e696f2f67656d2f762f73716c6974652d756c69643f636f6c6f723d726564266c6f676f3d7275627967656d73266c6f676f436f6c6f723d7768697465"></a></td>
</tr>
<tr>
<td>Rust</td>
<td><code>cargo add sqlite-ulid</code></td>
<td><a href="https://crates.io/crates/sqlite-ulid" rel="nofollow"><img src="https://img.shields.io/crates/v/sqlite-ulid?logo=rust" alt="Crates.io" style="max-width: 100%;" data-camo-src="https://camo.githubusercontent.com/89300010405e6cf7625467121bb220c1185cd86a4a32b272671598a377a28d87/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f73716c6974652d756c69643f6c6f676f3d72757374"></a></td>
</tr>
<tr>
<td>Github Release</td>
<td></td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9d5fedf8cc1f03a66e8d9490d6aef41561c56cd8cb8b0068ec00c73e822bee2c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f7461672f6173673031372f73716c6974652d756c69643f636f6c6f723d6c696768746772657926696e636c7564655f70726572656c6561736573266c6162656c3d4769746875622b72656c65617365266c6f676f3d676974687562"><img src="https://img.shields.io/github/v/tag/asg017/sqlite-ulid?color=lightgrey&include_prereleases&label=Github+release&logo=github" alt="GitHub tag (latest SemVer pre-release)" style="max-width: 100%;" data-camo-src="https://camo.githubusercontent.com/9d5fedf8cc1f03a66e8d9490d6aef41561c56cd8cb8b0068ec00c73e822bee2c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f7461672f6173673031372f73716c6974652d756c69643f636f6c6f723d6c696768746772657926696e636c7564655f70726572656c6561736573266c6162656c3d4769746875622b72656c65617365266c6f676f3d676974687562"></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">The <a href="https://github.com/asg017/sqlite-ulid/releases">Releases page</a> contains pre-built binaries for Linux x86_64, MacOS, and Windows.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Python</h3><a id="user-content-python" class="anchor" aria-label="Permalink: Python" href="#python"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For Python developers, install the <a href="https://pypi.org/package/sqlite-ulid/" rel="nofollow"><code>sqlite-ulid</code> package</a> with:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip install sqlite-ulid"><pre class="notranslate"><code>pip install sqlite-ulid
</code></pre></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import sqlite3
import sqlite_ulid
db = sqlite3.connect(':memory:')
db.enable_load_extension(True)
sqlite_ulid.load(db)
db.execute('select ulid()').fetchone()
# ('01gr7gwc5aq22ycea6j8kxq4s9',)"><pre><span class="pl-k">import</span> <span class="pl-s1">sqlite3</span>
<span class="pl-k">import</span> <span class="pl-s1">sqlite_ulid</span>
<span class="pl-s1">db</span> <span class="pl-c1">=</span> <span class="pl-s1">sqlite3</span>.<span class="pl-c1">connect</span>(<span class="pl-s">':memory:'</span>)
<span class="pl-s1">db</span>.<span class="pl-c1">enable_load_extension</span>(<span class="pl-c1">True</span>)
<span class="pl-s1">sqlite_ulid</span>.<span class="pl-c1">load</span>(<span class="pl-s1">db</span>)
<span class="pl-s1">db</span>.<span class="pl-c1">execute</span>(<span class="pl-s">'select ulid()'</span>).<span class="pl-c1">fetchone</span>()
<span class="pl-c"># ('01gr7gwc5aq22ycea6j8kxq4s9',)</span></pre></div>
<p dir="auto">See <a href="./python/sqlite_ulid/README.md"><code>python/sqlite_ulid</code></a> for more details.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Node.js</h3><a id="user-content-nodejs" class="anchor" aria-label="Permalink: Node.js" href="#nodejs"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For Node.js developers, install the <a href="https://www.npmjs.com/package/sqlite-ulid" rel="nofollow"><code>sqlite-ulid</code> npm package</a> with:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="npm install sqlite-ulid"><pre class="notranslate"><code>npm install sqlite-ulid
</code></pre></div>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Database from "better-sqlite3";
import * as sqlite_ulid from "sqlite-ulid";

const db = new Database(":memory:");
db.loadExtension(sqlite_ulid.getLoadablePath());"><pre><span class="pl-k">import</span> <span class="pl-v">Database</span> <span class="pl-k">from</span> <span class="pl-s">"better-sqlite3"</span><span class="pl-kos">;</span>
<span class="pl-k">import</span> <span class="pl-c1">*</span> <span class="pl-k">as</span> <span class="pl-s1">sqlite_ulid</span> <span class="pl-k">from</span> <span class="pl-s">"sqlite-ulid"</span><span class="pl-kos">;</span>

<span class="pl-k">const</span> <span class="pl-s1">db</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Database</span><span class="pl-kos">(</span><span class="pl-s">":memory:"</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-s1">db</span><span class="pl-kos">.</span><span class="pl-en">loadExtension</span><span class="pl-kos">(</span><span class="pl-s1">sqlite_ulid</span><span class="pl-kos">.</span><span class="pl-en">getLoadablePath</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre></div>
<p dir="auto">See <a href="./npm/sqlite-ulid/README.md"><code>npm/sqlite-ulid/README.md</code></a> for more details.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Deno</h3><a id="user-content-deno" class="anchor" aria-label="Permalink: Deno" href="#deno"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For <a href="https://deno.land/" rel="nofollow">Deno</a> developers, use the <a href="https://deno.land/x/sqlite_ulid" rel="nofollow">deno.land/x/sqlite_ulid</a> module:</p>
<div class="highlight highlight-source-ts notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import { Database } from "https://deno.land/x/sqlite3@0.8.0/mod.ts";
import * as sqlite_ulid from "https://deno.land/x/sqlite_ulid@v${VERSION}/mod.ts";

const db = new Database(":memory:");

db.enableLoadExtension = true;
sqlite_ulid.load(db);

const [version] = db.prepare("select ulid_version()").value<[string]>()!;

console.log(version);"><pre><span class="pl-k">import</span> <span class="pl-kos">{</span> <span class="pl-v">Database</span> <span class="pl-kos">}</span> <span class="pl-k">from</span> <span class="pl-s">"https://deno.land/x/sqlite3@0.8.0/mod.ts"</span><span class="pl-kos">;</span>
<span class="pl-k">import</span> <span class="pl-c1">*</span> <span class="pl-k">as</span> <span class="pl-s1">sqlite_ulid</span> <span class="pl-k">from</span> <span class="pl-s">"https://deno.land/x/sqlite_ulid@v${VERSION}/mod.ts"</span><span class="pl-kos">;</span>

<span class="pl-k">const</span> <span class="pl-s1">db</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Database</span><span class="pl-kos">(</span><span class="pl-s">":memory:"</span><span class="pl-kos">)</span><span class="pl-kos">;</span>

<span class="pl-s1">db</span><span class="pl-kos">.</span><span class="pl-c1">enableLoadExtension</span> <span class="pl-c1">=</span> <span class="pl-c1">true</span><span class="pl-kos">;</span>
<span class="pl-s1">sqlite_ulid</span><span class="pl-kos">.</span><span class="pl-en">load</span><span class="pl-kos">(</span><span class="pl-s1">db</span><span class="pl-kos">)</span><span class="pl-kos">;</span>

<span class="pl-k">const</span> <span class="pl-kos">[</span><span class="pl-s1">version</span><span class="pl-kos">]</span> <span class="pl-c1">=</span> <span class="pl-s1">db</span><span class="pl-kos">.</span><span class="pl-en">prepare</span><span class="pl-kos">(</span><span class="pl-s">"select ulid_version()"</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">value</span><span class="pl-c1"><</span><span class="pl-kos">[</span><span class="pl-smi">string</span><span class="pl-kos">]</span><span class="pl-c1">></span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-c1">!</span><span class="pl-kos">;</span>

<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">version</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Datasette</h3><a id="user-content-datasette" class="anchor" aria-label="Permalink: Datasette" href="#datasette"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">And for <a href="https://datasette.io/" rel="nofollow">Datasette</a>, install the <a href="https://datasette.io/plugins/datasette-sqlite-ulid" rel="nofollow"><code>datasette-sqlite-ulid</code> plugin</a> with:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="datasette install datasette-sqlite-ulid"><pre class="notranslate"><code>datasette install datasette-sqlite-ulid
</code></pre></div>
<p dir="auto">See <a href="./python/datasette_sqlite_ulid/README.md"><code>python/datasette_sqlite_ulid</code></a> for more details.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">As a loadable extension</h3><a id="user-content-as-a-loadable-extension" class="anchor" aria-label="Permalink: As a loadable extension" href="#as-a-loadable-extension"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you want to use <code>sqlite-ulid</code> as a <a href="https://www.sqlite.org/loadext.html" rel="nofollow">Runtime-loadable extension</a>, Download the <code>ulid0.dylib</code> (for MacOS), <code>ulid0.so</code> (Linux), or <code>ulid0.dll</code> (Windows) file <a href="https://github.com/asg017/sqlite-ulid/releases">from a release</a> and load it into your SQLite environment.</p>
<blockquote>
<p dir="auto"><strong>Note:</strong>
The <code>0</code> in the filename (<code>ulid0.dylib</code>/ <code>ulid0.so</code>/<code>ulid0.dll</code>) denotes the major version of <code>sqlite-ulid</code>. Currently <code>sqlite-ulid</code> is pre v1, so expect breaking changes in future versions.</p>
</blockquote>
<p dir="auto">For example, if you are using the <a href="https://www.sqlite.org/cli.html" rel="nofollow">SQLite CLI</a>, you can load the library like so:</p>
<div class="highlight highlight-source-sql notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content=".load ./ulid0
select ulid_version();
-- v0.1.0"><pre>.load .<span class="pl-k">/</span>ulid0
<span class="pl-k">select</span> ulid_version();
<span class="pl-c"><span class="pl-c">--</span> v0.1.0</span></pre></div>
<p dir="auto">In Python, you should prefer the <a href="./python/sqlite_ulid/README.md"><code>sqlite-ulid</code> Python package</a>. However, you can manually load a pre-compiled extension with the builtin <a href="https://docs.python.org/3/library/sqlite3.html" rel="nofollow">sqlite3 module</a>:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import sqlite3
con = sqlite3.connect(":memory:")
con.enable_load_extension(True)
con.load_extension("./ulid0")
print(con.execute("select ulid_version()").fetchone())
# ('v0.1.0',)"><pre><span class="pl-k">import</span> <span class="pl-s1">sqlite3</span>
<span class="pl-s1">con</span> <span class="pl-c1">=</span> <span class="pl-s1">sqlite3</span>.<span class="pl-c1">connect</span>(<span class="pl-s">":memory:"</span>)
<span class="pl-s1">con</span>.<span class="pl-c1">enable_load_extension</span>(<span class="pl-c1">True</span>)
<span class="pl-s1">con</span>.<span class="pl-c1">load_extension</span>(<span class="pl-s">"./ulid0"</span>)
<span class="pl-en">print</span>(<span class="pl-s1">con</span>.<span class="pl-c1">execute</span>(<span class="pl-s">"select ulid_version()"</span>).<span class="pl-c1">fetchone</span>())
<span class="pl-c"># ('v0.1.0',)</span></pre></div>
<p dir="auto">Or in Node.js using <a href="https://github.com/WiseLibs/better-sqlite3">better-sqlite3</a>:</p>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="const Database = require("better-sqlite3");
const db = new Database(":memory:");
db.loadExtension("./ulid0");
console.log(db.prepare("select ulid_version()").get());
// { 'ulid_version()': 'v0.1.0' }"><pre><span class="pl-k">const</span> <span class="pl-v">Database</span> <span class="pl-c1">=</span> <span class="pl-en">require</span><span class="pl-kos">(</span><span class="pl-s">"better-sqlite3"</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-k">const</span> <span class="pl-s1">db</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Database</span><span class="pl-kos">(</span><span class="pl-s">":memory:"</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-s1">db</span><span class="pl-kos">.</span><span class="pl-en">loadExtension</span><span class="pl-kos">(</span><span class="pl-s">"./ulid0"</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">db</span><span class="pl-kos">.</span><span class="pl-en">prepare</span><span class="pl-kos">(</span><span class="pl-s">"select ulid_version()"</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">get</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-c">// { 'ulid_version()': 'v0.1.0' }</span></pre></div>
<p dir="auto">With <a href="https://datasette.io/" rel="nofollow">Datasette</a>, you should prefer the <a href="./python/datasette_sqlite_ulid/README.md"><code>datasette-sqlite-ulid</code> Datasette plugin</a>. However, you can manually load a pre-compiled extension into a Datasette instance like so:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="datasette data.db --load-extension ./ulid0"><pre class="notranslate"><code>datasette data.db --load-extension ./ulid0
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Supporting</h2><a id="user-content-supporting" class="anchor" aria-label="Permalink: Supporting" href="#supporting"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">I (Alex 👋🏼) spent a lot of time and energy on this project and <a href="https://github.com/asg017?tab=repositories&q=&type=&language=&sort=stargazers">many other open source projects</a>. If your company or organization uses this library (or you're feeling generous), then please <a href="https://alexgarcia.ulid/work.html" rel="nofollow">consider supporting my work</a>, or share this project with a friend!</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">See also</h2><a id="user-content-see-also" class="anchor" aria-label="Permalink: See also" href="#see-also"><svg class="octicon octicon-link" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://github.com/asg017/sqlite-xsv">sqlite-xsv</a>, A SQLite extension for working with CSVs</li>
<li><a href="https://github.com/asg017/sqlite-loadable-rs">sqlite-loadable</a>, A framework for writing SQLite extensions in Rust</li>
<li><a href="https://github.com/asg017/sqlite-http">sqlite-http</a>, A SQLite extension for making HTTP requests</li>
</ul>
</article></div>